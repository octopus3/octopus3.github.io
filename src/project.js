window.__require=function e(t,n,s){function i(c,_){if(!n[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var a="function"==typeof __require&&__require;if(!_&&a)return a(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+c+"'")}}var u=n[c]={exports:{}};t[c][0].call(u.exports,function(e){return i(t[c][1][e]||e)},u,u.exports,e,t,n,s)}return n[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<s.length;c++)i(s[c]);return i}({Cmd:[function(e,t,n){"use strict";cc._RF.push(t,"02b9a8STiFPhbHTZQ+hhfNX","Cmd");t.exports={USER_DISCONNECT:1e4,BROADCAST:10001,Auth:{GUEST_LOGIN:1,RELOGIN:2,EDIT_PROFILE:3,GUEST_UPGRADE_IDENTIFY:4,BIND_PHONE_NUM:5,UNAME_LOGIN:6,GET_PHONE_REG_VERIFY:7,PHONE_REG_ACCOUNT:8,GET_FORGET_PWD_VERIFY:9,RESET_USER_PWD:10},GameSystem:{GET_GAME_INFO:1,LOGIN_BONUES_INFO:2,RECV_LOGIN_BONUES:3,GET_WORLD_RANK_INFO:4},Game5Chess:{ENTER_ZONE:1,USER_QUIT:2,ENTER_ROOM:3,EXIT_ROOM:4,SITDOWN:5,STANDUP:6,USER_ARRIVED:7,SEND_PROP:8,SEND_DO_READY:9,ROUND_START:10,TURN_TO_PLAYER:11,PUT_CHESS:12,CHECKOUT:13,CHECKOUT_OVER:14,RECONNECT:15}},cc._RF.pop()},{}],Respones:[function(e,t,n){"use strict";cc._RF.push(t,"921a3hwsy1EiLux0B1tK0vx","Respones");t.exports={OK:1,INVALID_PARAMS:-100,SYSTEM_ERR:-101,ILLEGAL_ACCOUNT:-102,INVALIDI_OPT:-103,PHONE_IS_REG:-104,PHONE_CODE_ERR:-105,UNAME_OR_UPWD_ERR:-106,PHONE_IS_NOT_REG:-107,RANK_IS_EMPTY:-108,INVALID_ZONE:-109,CHIP_IS_NOT_ENOUGH:-110,VIP_IS_NOT_ENOUGH:-111},cc._RF.pop()},{}],State:[function(e,t,n){"use strict";cc._RF.push(t,"8cff8Xv7v5P7a2PAxjR7nq6","State");t.exports={InView:1,Ready:2,Playing:3,CheckOut:4},cc._RF.pop()},{}],Stype:[function(e,t,n){"use strict";cc._RF.push(t,"2b661HWeYVBLYlL3fBBG5CG","Stype");t.exports={TalkRoom:1,Auth:2,GameSystem:3,Game5Chess:4},cc._RF.pop()},{}],account_forget_pwd:[function(e,t,n){"use strict";cc._RF.push(t,"31375Afb+RMQJtlqZBMWL5M","account_forget_pwd");var s=e("auth"),i=e("md5"),o=e("ugame");cc.Class({extends:cc.Component,properties:{phone_input:{type:cc.EditBox,default:null},pwd_input:{type:cc.EditBox,default:null},again_pwd_input:{type:cc.EditBox,default:null},verify_code_input:{type:cc.EditBox,default:null}},onLoad:function(){this.node.active=!1},start:function(){},on_close_click:function(){this.node.active=!1},on_get_forget_pwd_verify_code_click:function(){this.phone_input.string&&11==this.phone_input.string.length&&s.get_forget_pwd_verify_code(this.phone_input.string)},on_forget_pwd_commit_click:function(){if(this.phone_input.string&&11==this.phone_input.string.length)if(!this.pwd_input.string||this.pwd_input.string.length<=0)cc.log("3 err");else if(this.pwd_input.string==this.again_pwd_input.string)if(6==this.verify_code_input.string.length){o.save_temp_uname_and_upwd(this.phone_input.string,this.pwd_input.string);var e=i(this.pwd_input.string);s.reset_user_pwd(this.phone_input.string,e,this.verify_code_input.string)}else cc.log("5 err");else cc.log("4 err");else cc.log("1 err")}}),cc._RF.pop()},{auth:"auth",md5:"md5",ugame:"ugame"}],account_reg:[function(e,t,n){"use strict";cc._RF.push(t,"dc28eynnpJMvI+ZpQ33exDQ","account_reg");var s=e("auth"),i=e("md5"),o=e("ugame");cc.Class({extends:cc.Component,properties:{unick_input:{type:cc.EditBox,default:null},phone_input:{type:cc.EditBox,default:null},pwd_input:{type:cc.EditBox,default:null},again_pwd_input:{type:cc.EditBox,default:null},verify_code_input:{type:cc.EditBox,default:null}},onLoad:function(){this.node.active=!1},start:function(){},on_close_click:function(){this.node.active=!1},on_get_verify_code_click:function(){this.phone_input.string&&11==this.phone_input.string.length&&s.get_phone_reg_verify_code(this.phone_input.string)},on_reg_account_with_phone_click:function(){if(this.phone_input.string&&11==this.phone_input.string.length)if(!this.unick_input.string||this.unick_input.string.length<=0)cc.log("2 err");else if(!this.pwd_input.string||this.pwd_input.string.length<=0)cc.log("3 err");else if(this.pwd_input.string==this.again_pwd_input.string)if(6==this.verify_code_input.string.length){o.save_temp_uname_and_upwd(this.phone_input.string,this.pwd_input.string);var e=i(this.pwd_input.string);s.reg_phone_account(this.unick_input.string,this.phone_input.string,e,this.verify_code_input.string)}else cc.log("5 err");else cc.log("4 err");else cc.log("1 err")}}),cc._RF.pop()},{auth:"auth",md5:"md5",ugame:"ugame"}],account_uname_login:[function(e,t,n){"use strict";cc._RF.push(t,"7ee84JdNx9HDI7XI2gsNLnV","account_uname_login");var s=e("ugame"),i=e("auth");cc.Class({extends:cc.Component,properties:{phone_input:{type:cc.EditBox,default:null},pwd_input:{type:cc.EditBox,default:null}},onLoad:function(){this.node.active=!1},start:function(){s.is_guest||(this.phone_input.string=s.uname,this.pwd_input.string=s.upwd)},on_close_click:function(){this.node.active=!1},on_uname_pwd_login_click:function(){this.phone_input.string&&11==this.phone_input.string.length?!this.pwd_input.string||this.pwd_input.string.length<=0?cc.log("3 err"):(s.save_temp_uname_and_upwd(this.phone_input.string,this.pwd_input.string),i.uname_login()):cc.log("1 err")}}),cc._RF.pop()},{auth:"auth",ugame:"ugame"}],action_time:[function(e,t,n){"use strict";cc._RF.push(t,"111a3gyKXZCIKIR5M1lC6+q","action_time"),cc.Class({extends:cc.Component,properties:{total_time:15},onLoad:function(){this.is_running=!1,this.sprite=this.getComponent(cc.Sprite)},start:function(){},start_action_time:function(e){this.total_time=e,this.is_running=!0,this.now_time=0,this.node.active=!0},update:function(e){if(!1!==this.is_running){this.now_time+=e;var t=this.now_time/this.total_time;t>1&&(t=1),this.sprite.fillRange=t,this.now_time>=this.total_time&&(this.is_running=!1,this.node.active=!1)}}}),cc._RF.pop()},{}],auth_proto:[function(e,t,n){"use strict";cc._RF.push(t,"90aeesNVu5APruqUezjIFZD","auth_proto");var s=e("proto_man"),i=e("proto_tools"),o=e("Stype"),c=e("Cmd"),_=e("Respones");function r(e,t,n){var s=n[1].utf8_byte_len(),o=i.header_size+2+(2+s),c=i.alloc_buffer(o),_=i.write_cmd_header_inbuf(c,e,t);return i.write_int16(c,_,n[0]),_+=2,_=i.write_str_inbuf(c,_,n[1],s),c}s.reg_encoder(o.Auth,c.Auth.GUEST_LOGIN,i.encode_str_cmd),s.reg_decoder(o.Auth,c.Auth.GUEST_LOGIN,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n={};t[2]=n;var s=i.header_size;if(n.status=i.read_int16(e,s),n.status!=_.OK)return t;s+=2,n.uid=i.read_uint32(e,s),s+=4;var o=i.read_str_inbuf(e,s);return n.unick=o[0],s=o[1],n.usex=i.read_int16(e,s),s+=2,n.uface=i.read_int16(e,s),s+=2,n.uvip=i.read_int16(e,s),s+=2,o=i.read_str_inbuf(e,s),n.ukey=o[0],s=o[1],t}),s.reg_decoder(o.Auth,c.Auth.RELOGIN,i.decode_empty_cmd),s.reg_decoder(o.Auth,c.Auth.EDIT_PROFILE,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n={};t[2]=n;var s=i.header_size;if(n.status=i.read_int16(e,s),s+=2,n.status!=_.OK)return t;var o=i.read_str_inbuf(e,s);return n.unick=o[0],s=o[1],n.usex=i.read_int16(e,s),t}),s.reg_encoder(o.Auth,c.Auth.EDIT_PROFILE,function(e,t,n){var s=n.unick.utf8_byte_len(),o=i.header_size+(2+s)+2,c=i.alloc_buffer(o),_=i.write_cmd_header_inbuf(c,e,t);return _=i.write_str_inbuf(c,_,n.unick,s),i.write_int16(c,_,n.usex),_+=2,c}),s.reg_encoder(o.Auth,c.Auth.GUEST_UPGRADE_INDENTIFY,function(e,t,n){var s=n[1].utf8_byte_len(),o=n[2].utf8_byte_len(),c=i.header_size+2+(2+unick_len)+(2+o),_=i.alloc_buffer(c),r=i.write_cmd_header_inbuf(_,e,t);return i.write_int16(_,r,n[0]),r+=2,r=i.write_str_inbuf(_,r,n[1],s),i.write_str_inbuf(_,r,n[2],o),_}),s.reg_decoder(o.Auth,c.Auth.GUEST_UPGRADE_INDENTIFY,i.decode_status_cmd),s.reg_encoder(o.Auth,c.Auth.BIND_PHONE_NUM,function(e,t,n){var s=n[0].utf8_byte_len(),o=n[1].utf8_byte_len(),c=n[2].utf8_byte_len(),_=i.header_size+(2+s)+(2+o)+(2+c),r=i.alloc_buffer(_),a=i.write_cmd_header_inbuf(r,e,t);return a=i.write_str_inbuf(r,a,n[0],s),a=i.write_str_inbuf(r,a,n[1],o),a=i.write_str_inbuf(r,a,n[2],c),r}),s.reg_decoder(o.Auth,c.Auth.BIND_PHONE_NUM,i.decode_status_cmd),s.reg_decoder(o.Auth,c.Auth.UNAME_LOGIN,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n={};t[2]=n;var s=i.header_size;if(n.status=i.read_int16(e,s),n.status!=_.OK)return t;s+=2,n.uid=i.read_uint32(e,s),s+=4;var o=i.read_str_inbuf(e,s);return n.unick=o[0],s=o[1],n.usex=i.read_int16(e,s),s+=2,n.uface=i.read_int16(e,s),s+=2,n.uvip=i.read_int16(e,s),s+=2,t}),s.reg_encoder(o.Auth,c.Auth.UNAME_LOGIN,function(e,t,n){var s=n[0].utf8_byte_len(),o=n[1].utf8_byte_len(),c=i.header_size+(2+s)+(2+o),_=i.alloc_buffer(c),r=i.write_cmd_header_inbuf(_,e,t);return r=i.write_str_inbuf(_,r,n[0],s),r=i.write_str_inbuf(_,r,n[1],o),_}),s.reg_encoder(o.Auth,c.Auth.GET_PHONE_REG_VERIFY,r),s.reg_decoder(o.Auth,c.Auth.GET_PHONE_REG_VERIFY,i.decode_status_cmd),s.reg_encoder(o.Auth,c.Auth.PHONE_REG_ACCOUNT,function(e,t,n){var s=n[0].utf8_byte_len(),o=n[1].utf8_byte_len(),c=n[2].utf8_byte_len(),_=n[3].utf8_byte_len(),r=i.header_size+(2+s)+(2+o)+(2+c)+(2+_),a=i.alloc_buffer(r),u=i.write_cmd_header_inbuf(a,e,t);return u=i.write_str_inbuf(a,u,n[0],s),u=i.write_str_inbuf(a,u,n[1],o),u=i.write_str_inbuf(a,u,n[2],c),u=i.write_str_inbuf(a,u,n[3],_),a}),s.reg_decoder(o.Auth,c.Auth.PHONE_REG_ACCOUNT,i.decode_status_cmd),s.reg_encoder(o.Auth,c.Auth.GET_FORGET_PWD_VERIFY,r),s.reg_decoder(o.Auth,c.Auth.GET_FORGET_PWD_VERIFY,i.decode_status_cmd),s.reg_encoder(o.Auth,c.Auth.RESET_USER_PWD,function(e,t,n){var s=n[0].utf8_byte_len(),o=n[1].utf8_byte_len(),c=n[2].utf8_byte_len(),_=i.header_size+(2+s)+(2+o)+(2+c),r=i.alloc_buffer(_),a=i.write_cmd_header_inbuf(r,e,t);return a=i.write_str_inbuf(r,a,n[0],s),a=i.write_str_inbuf(r,a,n[1],o),a=i.write_str_inbuf(r,a,n[2],c),r}),s.reg_decoder(o.Auth,c.Auth.RESET_USER_PWD,i.decode_status_cmd),cc._RF.pop()},{Cmd:"Cmd",Respones:"Respones",Stype:"Stype",proto_man:"proto_man",proto_tools:"proto_tools"}],auth:[function(e,t,n){"use strict";cc._RF.push(t,"e2a60mRzfZNeoUMw3ah9ozl","auth");var s=e("utils"),i=e("websocket"),o=e("Stype"),c=e("Cmd"),_=e("ugame"),r=e("md5");e("auth_proto"),t.exports={guest_login:function(){var e=_.guest_key;e||(e=s.random_string(32)),i.send_cmd(o.Auth,c.Auth.GUEST_LOGIN,e)},uname_login:function(){var e=r(_.upwd),t={0:_.uname,1:e};i.send_cmd(o.Auth,c.Auth.UNAME_LOGIN,t)},edit_profile:function(e,t){var n={unick:e,usex:t};i.send_cmd(o.Auth,c.Auth.EDIT_PROFILE,n)},get_guest_upgrade_verify_code:function(e,t){var n={0:0,1:e,2:t};i.send_cmd(o.Auth,c.Auth.GUEST_UPGRADE_IDENTIFY,n)},guest_bind_phone:function(e,t,n){var s={0:e,1:t,2:n};i.send_cmd(o.Auth,c.Auth.BIND_PHONE_NUM,s)},get_phone_reg_verify_code:function(e){var t={0:1,1:e};i.send_cmd(o.Auth,c.Auth.GET_PHONE_REG_VERIFY,t)},reg_phone_account:function(e,t,n,s){var _={0:t,1:n,2:s,3:e};i.send_cmd(o.Auth,c.Auth.PHONE_REG_ACCOUNT,_)},get_forget_pwd_verify_code:function(e){var t={0:2,1:e};i.send_cmd(o.Auth,c.Auth.GET_FORGET_PWD_VERIFY,t)},reset_user_pwd:function(e,t,n){var s={0:e,1:t,2:n};i.send_cmd(o.Auth,c.Auth.RESET_USER_PWD,s)}},cc._RF.pop()},{Cmd:"Cmd",Stype:"Stype",auth_proto:"auth_proto",md5:"md5",ugame:"ugame",utils:"utils",websocket:"websocket"}],check_box:[function(e,t,n){"use strict";cc._RF.push(t,"a06c94eTUNKR7S2CeQ8TW3f","check_box"),cc.Class({extends:cc.Component,properties:{normal:{default:null,type:cc.SpriteFrame},select:{default:null,type:cc.SpriteFrame},b_checked:!1},onLoad:function(){},set_checked:function(e){this.sp=this.node.getComponent(cc.Sprite),this.b_checked=e,this.b_checked?this.sp.spriteFrame=this.select:this.sp.spriteFrame=this.normal},is_checked:function(){return this.b_checked}}),cc._RF.pop()},{}],checkout:[function(e,t,n){"use strict";cc._RF.push(t,"ec67cQKx9xIKaquWZQ3XqWI","checkout"),cc.Class({extends:cc.Component,properties:{result:{type:cc.Label,default:null},score:{type:cc.Label,default:null}},onLoad:function(){this.node.active=!1},start:function(){},show_checkout_result:function(e,t){return this.node.active=!0,2==e?(this.result.string="\u5e73\u5c40",void(this.score.string="\u672c\u8f6e\u5f97\u5206\u4e3a: 0")):1==e?(this.result.string="\u80dc\u5229",void(this.score.string="\u672c\u6b21\u5f97\u5206\u4e3a:"+t)):(this.result.string="\u5931\u8d25",void(this.score.string="\u672c\u6b21\u5f97\u5206\u4e3a:"+t))},close_dlg:function(){this.node.active=!1},hide_checkout_result:function(){this.node.active=!1}}),cc._RF.pop()},{}],chess_disk:[function(e,t,n){"use strict";cc._RF.push(t,"c96bbXbJTlHJJ6zjWlpCQ/m","chess_disk");var s=e("five_chess");cc.Class({extends:cc.Component,properties:{chess_prefab:{default:[],type:cc.Prefab}},onLoad:function(){this.your_turn=!1,this.node.on(cc.Node.EventType.TOUCH_START,function(e){if(this.your_turn){var t=e.getLocation(),n=this.node.convertToNodeSpaceAR(t);n.x+=287,n.y+=287;var i=Math.floor((n.x+20.5)/41),o=Math.floor((n.y+20.5)/41);i<0||i>14||o<0||o>14||s.send_put_chess(i,o)}}.bind(this))},set_your_turn:function(e){this.your_turn=e},put_chess_at:function(e,t,n){var s=cc.instantiate(this.chess_prefab[e-1]);this.node.addChild(s);var i=41*t-287,o=41*n-287;cc.log("xpos:",i,"ypos:",o),s.setPosition(cc.v2(i,o))},start:function(){},clear_disk:function(){this.node.removeAllChildren()}}),cc._RF.pop()},{five_chess:"five_chess"}],edit_profile:[function(e,t,n){"use strict";cc._RF.push(t,"8c89egQ+BtKvbX8Fo+yG7D1","edit_profile");var s=e("check_box"),i=e("ugame"),o=(e("websocket"),e("Stype"),e("Cmd"),e("auth"));cc.Class({extends:cc.Component,properties:{unick_input:{type:cc.EditBox,default:null},man_checkbox:{type:s,default:null},woman_checkbox:{type:s,default:null}},onLoad:function(){this.unick_input.string=i.unick,this.set_check_sex(i.usex)},start:function(){},set_check_sex:function(e){this.usex=e,0===e?(this.man_checkbox.set_checked(!0),this.woman_checkbox.set_checked(!1)):(this.man_checkbox.set_checked(!1),this.woman_checkbox.set_checked(!0))},on_check_click:function(e,t){t=parseInt(t),this.set_check_sex(t)},on_subcommit_click:function(){""!==this.unick_input.string?o.edit_profile(this.unick_input.string,this.usex):cc.log("unick is empty")}}),cc._RF.pop()},{Cmd:"Cmd",Stype:"Stype",auth:"auth",check_box:"check_box",ugame:"ugame",websocket:"websocket"}],extend:[function(e,t,n){"use strict";cc._RF.push(t,"edf607JXUpPAIJNKFTsp0MC","extend"),DataView.prototype.write_utf8=function(e,t){for(var n=e,s=0;s<t.length;s++){var i=t.charCodeAt(s);i<128?(this.setUint8(n,i),n++):i<2048?(this.setUint8(n,192|i>>6),n++,this.setUint8(n,128|63&i),n++):i<55296||i>=57344?(this.setUint8(n,224|i>>12),n++,this.setUint8(n,128|i>>6&63),n++,this.setUint8(n,128|63&i),n++):(s++,i=65536+((1023&i)<<10|1023&t.charCodeAt(s)),this.setUint8(n,240|i>>18),n++,this.setUint8(n,128|i>>12&63),n++,this.setUint8(n,128|i>>6&63),n++,this.setUint8(n,128|63&i),n++)}},DataView.prototype.read_utf8=function(e,t){var n,s,i,o,c,_;for(n="",i=e+t,s=e;s<i;)switch(o=this.getUint8(s),s++,o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n+=String.fromCharCode(o);break;case 12:case 13:c=array[s++],n+=String.fromCharCode((31&o)<<6|63&c);break;case 14:c=this.getUint8(s),s++,_=this.getUint8(s),s++,n+=String.fromCharCode((15&o)<<12|(63&c)<<6|(63&_)<<0)}return n},String.prototype.utf8_byte_len=function(){var e,t,n=0;for(e=0;e<this.length;e++)(t=this.charCodeAt(e))<127?n+=1:128<=t&&t<=2047?n+=2:2048<=t&&t<=65535&&(n+=3);return n},cc._RF.pop()},{}],five_chess_proto:[function(e,t,n){"use strict";cc._RF.push(t,"89118TZZSZPHbzN0A6N+/q2","five_chess_proto");var s=e("proto_man"),i=e("proto_tools"),o=e("Stype"),c=e("Cmd"),_=e("Respones");s.reg_encoder(o.Game5Chess,c.Game5Chess.ENTER_ZONE,i.encode_status_cmd),s.reg_decoder(o.Game5Chess,c.Game5Chess.ENTER_ZONE,i.decode_status_cmd),s.reg_encoder(o.Game5Chess,c.Game5Chess.USER_QUIT,i.encode_empty_cmd),s.reg_decoder(o.Game5Chess,c.Game5Chess.USER_QUIT,i.decode_status_cmd),s.reg_encoder(o.Game5Chess,c.Game5Chess.ENTER_ROOM,i.encode_int32_cmd),s.reg_decoder(o.Game5Chess,c.Game5Chess.ENTER_ROOM,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n={};t[2]=n;var s=i.header_size;return n[0]=i.read_int16(e,s),n[0]!=_.OK?t:(s+=2,n[1]=i.read_int16(e,s),s+=2,n[2]=i.read_uint32(e,s),s+=4,t)}),cc._RF.pop()},{Cmd:"Cmd",Respones:"Respones",Stype:"Stype",proto_man:"proto_man",proto_tools:"proto_tools"}],five_chess:[function(e,t,n){"use strict";cc._RF.push(t,"26fdf+/8XhHaJq0O4ZwGY3Z","five_chess");e("utils");var s=e("websocket"),i=e("Stype"),o=e("Cmd");e("ugame"),e("md5");e("five_chess_proto"),t.exports={enter_zone:function(e){s.send_cmd(i.Game5Chess,o.Game5Chess.ENTER_ZONE,e)},user_quit:function(){s.send_cmd(i.Game5Chess,o.Game5Chess.USER_QUIT,null)},send_prop:function(e,t){var n={0:t,1:e};s.send_cmd(i.Game5Chess,o.Game5Chess.SEND_PROP,n)},send_do_ready:function(){s.send_cmd(i.Game5Chess,o.Game5Chess.SEND_DO_READY,null)},send_put_chess:function(e,t){var n={0:e,1:t};s.send_cmd(i.Game5Chess,o.Game5Chess.PUT_CHESS,n)}},cc._RF.pop()},{Cmd:"Cmd",Stype:"Stype",five_chess_proto:"five_chess_proto",md5:"md5",ugame:"ugame",utils:"utils",websocket:"websocket"}],frame_anim:[function(e,t,n){"use strict";cc._RF.push(t,"774bdN6rcNDrpKRI+c+vzJ+","frame_anim"),cc.Class({extends:cc.Component,properties:{sprite_frames:{default:[],type:cc.SpriteFrame},duration:.1,loop:!1,play_onload:!1},onLoad:function(){var e=this.node.getComponent(cc.Sprite);e||(e=this.node.addComponent(cc.Sprite)),this.sprite=e,this.is_playing=!1,this.play_time=0,this.is_loop=!1,this.end_func=null,this.sprite_frames.length>0&&(this.sprite.spriteFrame=this.sprite_frames[0]),this.play_onload&&(this.loop?this.play_loop():this.play_once(null))},play_once:function(e){this.play_time=0,this.is_playing=!0,this.is_loop=!1,this.end_func=e},play_loop:function(){this.play_time=0,this.is_playing=!0,this.is_loop=!0},stop_anim:function(){this.play_time=0,this.is_playing=!1,this.is_loop=!1},start:function(){},update:function(e){if(!1!==this.is_playing){this.play_time+=e;var t=Math.floor(this.play_time/this.duration);if(!1===this.is_loop){if(t>=this.sprite_frames.length)return this.sprite.spriteFrame=this.sprite_frames[this.sprite_frames.length-1],this.is_playing=!1,this.play_time=0,void(this.end_func&&this.end_func());this.sprite.spriteFrame=this.sprite_frames[t]}else{for(;t>=this.sprite_frames.length;)t-=this.sprite_frames.length,this.play_time-=this.duration*this.sprite_frames.length;this.sprite.spriteFrame=this.sprite_frames[t]}}}}),cc._RF.pop()},{}],friend_ctrl:[function(e,t,n){"use strict";cc._RF.push(t,"f3220EcnaRP8LgkH3atoW1I","friend_ctrl");var s=e("ugame");cc.Class({extends:cc.Component,properties:{unick:{default:null,type:cc.Label},main_list:{type:cc.Node,default:null},back:{type:cc.Node,default:null}},onLoad:function(){this.second_ui=null,this.back.active=!1},start:function(){this.sync_info()},hide_main_list:function(e){this.back.active=!0,this.main_list.active=!1,this.title_label.string=e},show_main_list:function(){this.back.active=!1,this.main_list.active=!0,this.title_label.string="\u597d\u53cb"},goto_back:function(){null!=this.second_ui&&(this.second_ui.removeFromParent(),this.second_ui=null),this.show_main_list()},sync_info:function(){this.unick.string=s.unick}}),cc._RF.pop()},{ugame:"ugame"}],game_prop:[function(e,t,n){"use strict";cc._RF.push(t,"9dbf2RJWj9GP6DhLeZ9MnmF","game_prop");var s=cc.Class({name:"prop_skin",properties:{icon:{type:cc.SpriteFrame,default:null},anim_frames:{type:cc.SpriteFrame,default:[]}}});cc.Class({extends:cc.Component,properties:{skin_set:{type:s,default:[]}},onLoad:function(){this.frame_anim=this.node.getChildByName("anim").getComponent("frame_anim"),this.anim_sprite=this.node.getChildByName("anim").getComponent(cc.Sprite)},play_prop_anim:function(e,t,n){if(!(n<=0||n>5)){this.anim_sprite.spriteFrame=this.skin_set[n-1].icon,this.node.setPosition(e);var s=cc.moveTo(1,t).easing(cc.easeCubicActionOut()),i=cc.callFunc(function(){this.frame_anim.sprite_frames=this.skin_set[n-1].anim_frames,this.frame_anim.play_once(function(){this.node.removeFromParent()}.bind(this))}.bind(this)),o=cc.sequence([s,i]);this.node.runAction(o)}},start:function(){}}),cc._RF.pop()},{}],game_scene:[function(e,t,n){"use strict";cc._RF.push(t,"9e373IyHs1DL4aFc2n/6VeB","game_scene");var s=e("five_chess"),i=e("ugame"),o=e("Cmd"),c=e("Stype"),_=e("websocket"),r=e("Respones"),a=e("game_seat"),u=e("State");cc.Class({extends:cc.Component,properties:{seatA:{type:a,default:null},seatB:{type:a,default:null},prop_prefab:{type:cc.Prefab,default:null},do_ready_button:{type:cc.Node,default:null}},onLoad:function(){this.disk=this.node.getChildByName("chessbox").getComponent("chess_disk"),this.checkout=this.node.getChildByName("checkout").getComponent("checkout"),this.do_ready_button.active=!0;var e={};e[c.Game5Chess]=this.on_five_chess_server_return.bind(this),_.register_serivces_handler(e)},enter_zone_return:function(e){cc.log(e)},user_quit_return:function(e){e==r.OK&&cc.director.loadScene("home_scene")},enter_room_return:function(e){e[0]==r.OK&&cc.log("you enter the room",e[1],"in room",e[2])},on_sitdown_return:function(e){if(e[0]==r.OK){var t=e[1];cc.log("you sit down in seat:",t);var n={unick:i.unick,usex:i.usex,uface:i.uface,uvip:i.game_info.uvip,uchip:i.game_info.uchip,uexp:i.game_info.uexp,sv_seatid:t,state:u.InView};this.seatA.on_sitdown(n,!0)}},on_user_arrived_return:function(e){cc.log("user arrived in seat at:",e[0]);var t={sv_seatid:e[0],unick:e[1],usex:e[2],uface:e[3],uchip:e[4],uexp:e[5],uvip:e[6],state:e[7]};this.seatB.on_sitdown(t,!1)},on_standup_return:function(e){if(e[0]==r.OK){var t=e[1];this.seatA.get_sv_seatid()==t?this.seatA.on_standup():this.seatB.get_sv_seatid()==t&&this.seatB.on_standup()}},on_send_prop_return:function(e){if(e[0]==r.OK){cc.log("from seat:",e[1],"to seat",e[2],"prop type:",e[3]);var t=cc.instantiate(this.prop_prefab);this.node.addChild(t);var n,s,i=t.getComponent("game_prop");cc.log(e[1]),cc.log("get seatid:",this.seatA.get_sv_seatid()),e[1]==this.seatA.get_sv_seatid()?(n=this.seatA.node.getPosition(),s=this.seatB.node.getPosition(),cc.log("if src_pos",n,"dest:",s)):(n=this.seatB.node.getPosition(),s=this.seatA.node.getPosition(),cc.log("else src_pos",n,"dest:",s)),i.play_prop_anim(n,s,e[3])}else cc.log("\u53d1\u9001\u9053\u5177\u5931\u8d25")},on_player_do_ready_return:function(e){e[0]==r.OK?this.seatA.get_sv_seatid()==e[1]?this.seatA.on_do_ready():this.seatB.on_do_ready():this.do_ready_button.active=!0},on_game_start:function(e){cc.log("on_game_start"),this.seatA.on_game_start(e),this.seatB.on_game_start(e)},on_turn_to_player:function(e){var t=e[0],n=e[1];cc.log(this.seatA.get_sv_seatid(),"sv_seatid:",n),n==this.seatA.get_sv_seatid()?(this.seatA.turn_to_player(t),this.disk.set_your_turn(!0)):(this.seatB.turn_to_player(t),this.disk.set_your_turn(!1))},player_put_chess:function(e){if(e[0]==r.OK){var t=e[1],n=e[2],s=e[3];this.disk.put_chess_at(s,t,n),this.seatA.hide_timebar(),this.seatB.hide_timebar()}},on_checkout_game:function(e){var t=e[0],n=e[1];-1==t?this.checkout.show_checkout_result(2,0):t==this.seatA.get_sv_seatid()?(this.checkout.show_checkout_result(1,n),i.game_info.uchip+=n):(this.checkout.show_checkout_result(0,n),i.game_info.uchip-=n)},on_checkout_over:function(e){this.checkout.hide_checkout_result(),this.seatA.on_checkout_over(),this.seatB.on_checkout_over(),this.disk.clear_disk(),this.do_ready_button.active=!0},do_reconnect:function(e){var t=e[0],n=e[1][0],s=e[2],i=e[3],o=e[4];this.do_ready_button.active=!1,this.on_sitdown_return({0:r.OK,1:t}),this.on_user_arrived_return(n),this.on_game_start(s);for(var c=0;c<15;c++)for(var _=0;_<15;_++)0!=i[15*c+_]&&this.disk.put_chess_at(i[15*c+_],_,c);var a=o[0],u=o[1];-1!=a&&(a==this.seatA.get_sv_seatid()?(this.seatA.turn_to_player(u),this.disk.set_your_turn(!0)):(this.seatB.turn_to_player(u),this.disk.set_your_turn(!1)))},on_five_chess_server_return:function(e,t,n){switch(cc.log("on five chess return",e,t,n),t){case o.Game5Chess.ENTER_ZONE:this.enter_zone_return(n);break;case o.Game5Chess.USER_QUIT:this.user_quit_return(n);break;case o.Game5Chess.ENTER_ROOM:this.enter_room_return(n);break;case o.Game5Chess.EXIT_ROOM:break;case o.Game5Chess.SITDOWN:this.on_sitdown_return(n);break;case o.Game5Chess.STANDUP:this.on_standup_return(n);break;case o.Game5Chess.USER_ARRIVED:this.on_user_arrived_return(n);break;case o.Game5Chess.SEND_PROP:this.on_send_prop_return(n);break;case o.Game5Chess.SEND_DO_READY:this.on_player_do_ready_return(n);break;case o.Game5Chess.ROUND_START:this.on_game_start(n);break;case o.Game5Chess.TURN_TO_PLAYER:this.on_turn_to_player(n);break;case o.Game5Chess.PUT_CHESS:this.player_put_chess(n);break;case o.Game5Chess.CHECKOUT:this.on_checkout_game(n);break;case o.Game5Chess.CHECKOUT_OVER:this.on_checkout_over(n);break;case o.Game5Chess.RECONNECT:this.do_reconnect(n)}},start:function(){s.enter_zone(i.zid)},on_user_quit:function(){s.user_quit()},on_do_ready_click:function(){this.do_ready_button.active=!1,s.send_do_ready()}}),cc._RF.pop()},{Cmd:"Cmd",Respones:"Respones",State:"State",Stype:"Stype",five_chess:"five_chess",game_seat:"game_seat",ugame:"ugame",websocket:"websocket"}],game_seat:[function(e,t,n){"use strict";cc._RF.push(t,"cd28fKfH71A+ZjD9EbhOdGF","game_seat");var s=e("State"),i=e("action_time");cc.Class({extends:cc.Component,properties:{unick:{type:cc.Label,default:null},timebar:{type:i,default:null},show_uinfo_prefab:{type:cc.Prefab,default:null},ready_icon:{type:cc.Node,default:null},black_chess:{type:cc.Node,default:null},white_chess:{type:cc.Node,default:null}},onLoad:function(){this.ready_icon.active=!1,this.timebar.node.active=!1,this.node.active=!1,this.is_self=!1,this.state=s.InView},start:function(){},on_sitdown:function(e,t){this.black_chess.active=!1,this.white_chess.active=!1,this.ready_icon.active=!1,this.node.active=!0,this.state=s.InView,this.player_info=e,this.unick.string=e.unick,this.is_self=t,e.state==s.Ready&&this.on_do_ready()},on_standup:function(){this.black_chess.active=!1,this.white_chess.active=!1,this.state=s.InView,this.timebar.node.active=!1,this.node.active=!1,this.player_info=null},get_sv_seatid:function(){return this.player_info.sv_seatid},on_show_info_click:function(){var e=cc.instantiate(this.show_uinfo_prefab);this.node.parent.addChild(e),e.getComponent("game_show_info").show_user_info(this.player_info,this.is_self)},on_do_ready:function(){this.ready_icon.active=!0},on_game_start:function(e){this.black_seat=e[2],this.action_time=e[0],this.ready_icon.active=!1,this.timebar.node.active=!1,this.state=s.Playing,this.black_seat==this.player_info.sv_seatid?(this.black_chess.active=!0,this.white_chess.active=!1):(this.black_chess.active=!1,this.white_chess.active=!0)},turn_to_player:function(e){this.timebar.node.active=!0,cc.log(this.timebar.node.active),this.timebar.start_action_time(e)},hide_timebar:function(){this.timebar.node.active=!1},on_checkout_over:function(){this.timebar.node.active=!1,this.black_chess.active=!1,this.white_chess.active=!1}}),cc._RF.pop()},{State:"State",action_time:"action_time"}],game_show_info:[function(e,t,n){"use strict";cc._RF.push(t,"fc4f4qSngxENIAVrIUXAXct","game_show_info");var s=e("ulevel"),i=e("five_chess");cc.Class({extends:cc.Component,properties:{unick:{type:cc.Label,default:null},uchip:{type:cc.Label,default:null},uvip:{type:cc.Label,default:null},ulevel:{type:cc.Label,default:null},uexp_process:{default:null,type:cc.ProgressBar},usex:{default:null,type:cc.Sprite},usex_sp:{default:[],type:cc.SpriteFrame},props_root:{type:cc.Node,default:null}},start:function(){},show_user_info:function(e,t){this.unick.string=e.unick,this.uchip.string=""+e.uchip,this.usex.spriteFrame=this.usex_sp[e.usex],this.uvip.string="VIP"+e.uvip;var n=s.get_level(e.uexp);this.ulevel.string="LV"+n[0],this.uexp_process.progress=n[1],this.is_self=t,this.sv_seatid=e.sv_seatid,this.props_root.active=!t},close_dlg:function(){this.node.removeFromParent()},on_close_click:function(){this.close_dlg()},on_prop_item_click:function(e,t){if(!this.is_self){t=parseInt(t),console.log("\u9053\u5177:",t);var n=this.sv_seatid;i.send_prop(n,t),this.close_dlg()}}}),cc._RF.pop()},{five_chess:"five_chess",ulevel:"ulevel"}],game_system_proto:[function(e,t,n){"use strict";cc._RF.push(t,"4f988bFzQ5P5bFR8LrvRs8S","game_system_proto");var s=e("proto_man"),i=e("proto_tools"),o=e("Stype"),c=e("Cmd"),_=e("Respones");s.reg_encoder(o.GameSystem,c.GameSystem.GET_GAME_INFO,i.encode_empty_cmd),s.reg_decoder(o.GameSystem,c.GameSystem.GET_GAME_INFO,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n={};t[2]=n;var s=i.header_size;return n[0]=i.read_int16(e,s),n[0]!=_.OK?t:(s+=2,n[1]=i.read_int32(e,s),s+=4,n[2]=i.read_int32(e,s),s+=4,n[3]=i.read_int16(e,s),s+=2,t)}),s.reg_encoder(o.GameSystem,c.GameSystem.LOGIN_BONUES_INFO,i.encode_empty_cmd),s.reg_decoder(o.GameSystem,c.GameSystem.LOGIN_BONUES_INFO,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n={};t[2]=n;var s=i.header_size;return n[0]=i.read_int16(e,s),n[0]!=_.OK?t:(s+=2,n[1]=i.read_int16(e,s),s+=2,n[2]=i.read_int32(e,s),s+=4,n[3]=i.read_int32(e,s),s+=4,n[4]=i.read_int16(e,s),s+=2,t)}),s.reg_encoder(o.GameSystem,c.GameSystem.RECV_LOGIN_BONUES,i.encode_int32_cmd),s.reg_decoder(o.GameSystem,c.GameSystem.RECV_LOGIN_BONUES,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n={};t[2]=n;var s=i.header_size;return n[0]=i.read_int16(e,s),n[0]!=_.OK?t:(s+=2,n[1]=i.read_int32(e,s),s+=4,t)}),s.reg_encoder(o.GameSystem,c.GameSystem.GET_WORLD_RANK_INFO,i.encode_empty_cmd),s.reg_decoder(o.GameSystem,c.GameSystem.GET_WORLD_RANK_INFO,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n={};t[2]=n;var s=i.header_size;if(n[0]=i.read_int16(e,s),n[0]!=_.OK)return t;s+=2,n[1]=i.read_int16(e,s),s+=2,n[2]=[];for(var o=0;o<n[1];o++){var c=[null,null,null,null],r=i.read_str_inbuf(e,s);c[0]=r[0],s=r[1],c[1]=i.read_int16(e,s),s+=2,c[2]=i.read_int16(e,s),s+=2,c[3]=i.read_int32(e,s),s+=4,n[2].push(c)}return t}),cc._RF.pop()},{Cmd:"Cmd",Respones:"Respones",Stype:"Stype",proto_man:"proto_man",proto_tools:"proto_tools"}],game_system:[function(e,t,n){"use strict";cc._RF.push(t,"805efsMTqRNAIuqWNSlXhYK","game_system");e("utils");var s=e("websocket"),i=e("Stype"),o=e("Cmd");e("ugame"),e("md5");e("game_system_proto"),t.exports={get_game_info:function(){s.send_cmd(i.GameSystem,o.GameSystem.GET_GAME_INFO,null)},get_login_bonues_today:function(){s.send_cmd(i.GameSystem,o.GameSystem.LOGIN_BONUES_INFO,null)},send_recv_login_bonues:function(e){s.send_cmd(i.GameSystem,o.GameSystem.RECV_LOGIN_BONUES,e)},get_world_rank_info:function(){cc.log("GET_WORLD_RANK_INFO_SEND"),s.send_cmd(i.GameSystem,o.GameSystem.GET_WORLD_RANK_INFO,null)}},cc._RF.pop()},{Cmd:"Cmd",Stype:"Stype",game_system_proto:"game_system_proto",md5:"md5",ugame:"ugame",utils:"utils",websocket:"websocket"}],guest_upgrade:[function(e,t,n){"use strict";cc._RF.push(t,"ca635XidgZHzoStcxREp2E+","guest_upgrade");var s=e("ugame"),i=(e("websocket"),e("Stype"),e("Cmd"),e("md5")),o=e("auth");cc.Class({extends:cc.Component,properties:{phone_number_input:{type:cc.EditBox,default:null},input_new_pwd:{type:cc.EditBox,default:null},input_again_pwd:{type:cc.EditBox,default:null},input_identifying_code:{type:cc.EditBox,default:null},error_desic_label:{default:null,type:cc.Label}},onLoad:function(){this.error_desic_label.node.active=!1},start:function(){},on_get_indentitying_click:function(){cc.log("on_get_indentitying_click");var e=this.phone_number_input.string;if(!e||11!=e.length)return this.show_error_tip("\u65e0\u6548\u7684\u7535\u8bdd\u53f7\u7801"),void cc.log("invalid from number");cc.log(e),o.get_guest_upgrade_verify_code(e,s.guest_key)},show_error_tip:function(e){this.error_desic_label.node.active=!0,this.error_desic_label.string=e,this.unscheduleAllCallbacks(),this.scheduleOnce(function(){this.error_desic_label.node.active=!1}.bind(this),3)},on_guset_upgrade_click:function(){this.error_desic_label.node.active=!1;var e=this.input_identifying_code.string,t=this.phone_number_input.string;if(!t||11!=t.length)return this.show_error_tip("\u65e0\u6548\u7684\u7535\u8bdd\u53f7\u7801"),void cc.log("invalid from number");var n=this.input_new_pwd.string;if(n!=this.input_again_pwd.string)return this.show_error_tip("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4"),void cc.log("input password not  equal");if(cc.log(e),e&&6==e.length){s.save_temp_uname_and_upwd(t,c);var c=i(n);s.guest_key;o.guest_bind_phone(t,c,e)}else this.show_error_tip("\u9a8c\u8bc1\u7801\u9519\u8bef")}}),cc._RF.pop()},{Cmd:"Cmd",Stype:"Stype",auth:"auth",md5:"md5",ugame:"ugame",websocket:"websocket"}],home_ctrl:[function(e,t,n){"use strict";cc._RF.push(t,"ed5c2S6UO1PhKk/1f/x75tM","home_ctrl");var s=e("ugame"),i=e("ulevel");cc.Class({extends:cc.Component,properties:{unick:{default:null,type:cc.Label},uchip:{default:null,type:cc.Label},ulevel:{default:null,type:cc.Label},uexp_process:{default:null,type:cc.ProgressBar},usex:{default:null,type:cc.Sprite},usex_sp:{default:[],type:cc.SpriteFrame},uvip:{default:null,type:cc.Label},main_list:{type:cc.Node,default:null},back:{type:cc.Node,default:null}},onLoad:function(){this.second_ui=null,this.back.active=!1},start:function(){this.sync_info()},hide_main_list:function(e){this.back.active=!0,this.main_list.active=!1,this.title_label.string=e},show_main_list:function(){this.back.active=!1,this.main_list.active=!0,this.title_label.string="\u9996\u9875"},goto_back:function(){null!=this.second_ui&&(this.second_ui.removeFromParent(),this.second_ui=null),this.show_main_list()},sync_info:function(){this.unick.string=s.unick;var e=s.game_info;this.uchip.string=""+e.uchip,this.usex.spriteFrame=this.usex_sp[s.usex],this.uvip.string="VIP"+e.uvip;var t=i.get_level(e.uexp);this.ulevel.string="LV"+t[0],this.uexp_process.progress=t[1]},on_enter_zone_click:function(e,t){(t=parseInt(t))<=0||t>3||(s.enter_zone(t),cc.director.loadScene("game_scene"))}}),cc._RF.pop()},{ugame:"ugame",ulevel:"ulevel"}],home_scene:[function(e,t,n){"use strict";cc._RF.push(t,"b0c8aQiQKVK05U6h7WKEWl6","home_scene");var s=e("websocket"),i=(e("auth"),e("Stype")),o=e("Cmd"),c=e("Respones"),_=e("ugame"),r=e("mine_ctrl"),a=e("home_ctrl"),u=e("system_ctrl"),h=e("friend_ctrl"),l=e("game_system");cc.Class({extends:cc.Component,properties:{tab_buttons:{default:[],type:cc.Button},tab_content:{default:[],type:cc.Node},mine:{default:null,type:r},home:{default:null,type:a},system:{default:null,type:u},friend:{default:null,type:h},login_bonues_prefab:{default:null,type:cc.Prefab}},onLoad:function(){this.tab_button_com_set=[];for(var e=0;e<this.tab_buttons.length;e++){var t=this.tab_buttons[e].getComponent("tab_button");this.tab_button_com_set.push(t)}var n={};n[i.Auth]=this.on_auth_server_return.bind(this),n[i.GameSystem]=this.on_system_server_return.bind(this),s.register_serivces_handler(n)},on_edit_profile_server_return:function(e){e.status==c.OK?(_.edit_profile_success(e.unick,e.usex),this.mine.goto_back(),this.mine.sync_info(),this.home.sync_info(),this.system.sync_info(),this.friend.sync_info()):cc.log("edit profile error",e.status)},on_get_upgrade_indentity_return:function(e){var t=e;t==c.OK?cc.log("get upgrade_identify success ",t):cc.log("get upgrade_identify error status = ",t)},on_guest_bind_phone_return:function(e){var t=e;t==c.OK?(cc.log("guest bind phone success!"),_.guest_bind_phone_success()):cc.log("guest bind phone err:",t)},on_auth_server_return:function(e,t,n){switch(cc.log(t),t){case o.Auth.RELOGIN:console.log("Cmd.Auth.RELOGIN: \u8d26\u53f7\u5728\u5176\u4ed6\u5730\u65b9\u767b\u9646\uff0c\u8bf7\u6ce8\u610f\u8d26\u53f7\u5b89\u5168\uff01\uff01\uff01");break;case o.Auth.EDIT_PROFILE:this.on_edit_profile_server_return(n);break;case o.Auth.GUEST_UPGRADE_IDENTIFY:this.on_get_upgrade_indentity_return(n);break;case o.Auth.BIND_PHONE_NUM:this.on_guest_bind_phone_return(n)}},on_get_login_bonues_today_return:function(e){if(e[0]==c.OK)if(1===e[1]){var t=e[2],n=e[3],s=e[4],i=cc.instantiate(this.login_bonues_prefab),o=i.getComponent("login_bonues");o.node.active=!0,cc.log(o.node.active),this.node.addChild(i),o.show_login_bonues(t,n,s)}else console.log("has no bunues",e);else console.log("status err:",e)},on_get_world_rank_info_return:function(e){e[0]==c.OK?(cc.log("on_get_world_rank_info_return",e),this.system.on_get_world_rank_data(e[3],e[2])):console.log("status err:",e)},on_recv_login_bonues_return:function(e){cc.log("on recv login bonues return calles",e),e[0]==c.OK?(cc.log("\u4f60\u6210\u529f\u9886\u53d6\u4e86\u5956\u52b1:",e[1]),_.game_info.uchip+=e[1],this.home.sync_info()):console.log("status err:",e)},on_system_server_return:function(e,t,n){switch(cc.log(t),t){case o.GameSystem.LOGIN_BONUES_INFO:this.on_get_login_bonues_today_return(n);break;case o.GameSystem.RECV_LOGIN_BONUES:this.on_recv_login_bonues_return(n);break;case o.GameSystem.GET_WORLD_RANK_INFO:this.on_get_world_rank_info_return(n)}},get_login_bonues_today:function(){l.get_login_bonues_today()},start:function(){this.on_tab_button_click(null,"0"),this.get_login_bonues_today()},disable_tab:function(e){this.tab_button_com_set[e].set_actived(!1),this.tab_buttons[e].interactable=!0,this.tab_content[e].active=!1},enable_tab:function(e){this.tab_button_com_set[e].set_actived(!0),this.tab_buttons[e].interactable=!1,this.tab_content[e].active=!0},on_tab_button_click:function(e,t){t=parseInt(t);for(var n=0;n<this.tab_buttons.length;n++)n==t?this.enable_tab(n):this.disable_tab(n)}}),cc._RF.pop()},{Cmd:"Cmd",Respones:"Respones",Stype:"Stype",auth:"auth",friend_ctrl:"friend_ctrl",game_system:"game_system",home_ctrl:"home_ctrl",mine_ctrl:"mine_ctrl",system_ctrl:"system_ctrl",ugame:"ugame",websocket:"websocket"}],http:[function(e,t,n){"use strict";cc._RF.push(t,"ab6a0JgUItNbYTxGZv3swHY","http");var s={get:function(e,t,n,s){var i=cc.loader.getXMLHttpRequest();i.timeout=5e3;var o=e+t;return n&&(o=o+"?"+n),i.open("GET",o,!0),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8"),i.onreadystatechange=function(){if(4===i.readyState&&i.status>=200&&i.status<300){console.log("http res("+i.responseText.length+"):"+i.responseText);try{var e=i.responseText;return void(null!==s&&s(null,e))}catch(e){s(e,null)}}},i.send(),i},post:function(e,t,n,s,i){var o=cc.loader.getXMLHttpRequest();o.timeout=5e3;var c=e+t;return n&&(c=c+"?"+n),o.open("POST",c,!0),cc.sys.isNative&&o.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8"),s&&(o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.setRequestHeader("Content-Length",s.length)),o.onreadystatechange=function(){if(4===o.readyState&&o.status>=200&&o.status<300)try{var e=o.responseText;return void(null!==i&&i(null,e))}catch(e){i(e,null)}},s&&o.send(s),o},download:function(e,t,n,s){var i=cc.loader.getXMLHttpRequest();i.timeout=5e3;var o=e+t;return n&&(o=o+"?"+n),i.responseType="arraybuffer",i.open("GET",o,!0),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8"),i.onreadystatechange=function(){if(4===i.readyState&&i.status>=200&&i.status<300){for(var e=i.response,t=new DataView(e),n=new Uint8Array(e.byteLength),o=0;o<n.length;o++)n[o]=t.getUint8(o);s(null,n)}},i.send(),i}};t.exports=s,cc._RF.pop()},{}],loading:[function(e,t,n){"use strict";cc._RF.push(t,"5024e6OFatCpZsnhtjbi3Yf","loading");var s=e("websocket"),i=e("auth"),o=e("Stype"),c=e("Cmd"),_=e("Respones"),r=e("ugame"),a=e("game_system");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.account_reg=this.node.getChildByName("account_reg"),this.account_forget_pwd=this.node.getChildByName("account_forget_pwd"),this.account_uname_login=this.node.getChildByName("account_uname_login");var e={};e[o.Auth]=this.on_auth_server_return.bind(this),e[o.GameSystem]=this.on_game_system_server_return.bind(this),s.register_serivces_handler(e)},guest_login_return:function(e){e.status==_.OK?(r.guest_login_success(e.unick,e.usex,e.uface,e.uvip,e.ukey),this.on_auth_login_success()):console.log(e)},uname_login_return:function(e){e.status==_.OK?(r.save_uname_and_pwd(),r.uname_login_success(e.unick,e.usex,e.uface,e.uvip),this.on_auth_login_success()):console.log(e)},on_auth_login_success:function(){a.get_game_info()},on_get_phone_reg_verify_return:function(e){e==_.OK?console.log("get verify code success",e):console.log("get verify code error",e)},on_get_forget_pwd_verify_return:function(e){e==_.OK?console.log("get verify code success",e):console.log("get verify code error",e)},on_reg_phone_account_return:function(e){e==_.OK?(r.save_uname_and_pwd(),i.uname_login()):cc.log("phone register account err status:",e)},on_reset_pwd_return:function(e){e==_.OK?(r.save_uname_and_pwd(),i.uname_login()):cc.log("on reset pwd return err status:",e)},on_get_game_info_return:function(e){var t=e[0];t==_.OK?(r.save_user_ugame_data(e),console.log(r.game_info),cc.director.loadScene("home_scene")):cc.log("on get game info return err status:",t)},on_game_system_server_return:function(e,t,n){switch(cc.log(t),t){case c.GameSystem.GET_GAME_INFO:this.on_get_game_info_return(n)}},on_auth_server_return:function(e,t,n){switch(cc.log(t),t){case c.Auth.GUEST_LOGIN:this.guest_login_return(n);break;case c.Auth.RELOGIN:console.log("Cmd.Auth.RELOGIN: \u8d26\u53f7\u5728\u5176\u4ed6\u5730\u65b9\u767b\u9646\uff0c\u8bf7\u6ce8\u610f\u8d26\u53f7\u5b89\u5168\uff01\uff01\uff01");break;case c.Auth.UNAME_LOGIN:this.uname_login_return(n);break;case c.Auth.GET_PHONE_REG_VERIFY:this.on_get_phone_reg_verify_return(n);break;case c.Auth.PHONE_REG_ACCOUNT:this.on_reg_phone_account_return(n);break;case c.Auth.GET_FORGET_PWD_VERIFY:this.on_get_forget_pwd_verify_return(n);break;case c.Auth.RESET_USER_PWD:this.on_reset_pwd_return(n)}},start:function(){},on_quick_login_click:function(){r.is_guest?i.guest_login():i.uname_login()},on_wechat_login_click:function(){},on_register_account_click:function(){this.account_reg.active=!0},on_forget_pwd_click:function(){this.account_forget_pwd.active=!0},on_uname_login_click:function(){this.account_uname_login.active=!0}}),cc._RF.pop()},{Cmd:"Cmd",Respones:"Respones",Stype:"Stype",auth:"auth",game_system:"game_system",ugame:"ugame",websocket:"websocket"}],login_bonues:[function(e,t,n){"use strict";cc._RF.push(t,"62556jdsF1LTb7uoisc+T4n","login_bonues");var s=e("game_system");cc.Class({extends:cc.Component,properties:{chip_label:{type:cc.Label,default:[]},zw_icon:{type:cc.Node,default:[]}},onLoad:function(){this.bonues_info=["100","200","300","400","500"];for(var e=0;e<this.bonues_info.length;e++)this.chip_label[e].string=this.bonues_info[e],this.chip_label[e].node.color=cc.color(0,0,0,255),this.zw_icon[e].active=!1},start:function(){},show_login_bonues:function(e,t,n){var s;for(this.node.active=!0,cc.log(this.node.active),this.bonues_id=e,console.log(e,t,n),n>=this.bonues_info.length&&(n=this.bonues_info.length),s=0;s<n;s++)this.chip_label[s].node.color=new cc.Color(255,0,0,255),console.log(this.chip_label[s].node.name),this.zw_icon[s].active=!1;for(;s<this.bonues_info.length;s++)this.chip_label[s].node.color=new cc.Color(0,0,0,255),this.zw_icon[s].active=!1;this.zw_icon[n-1].active=!0},on_recv_cmd_click:function(){s.send_recv_login_bonues(this.bonues_id),this.node.removeFromParent()},on_close_click:function(){this.node.removeFromParent()}}),cc._RF.pop()},{game_system:"game_system"}],md5:[function(e,t,n){"use strict";cc._RF.push(t,"502c3ESZsxB65aehPz0pKYt","md5");var s=0,i=8;function o(e){return f(c(p(e),e.length*i))}function c(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,s=-271733879,i=-1732584194,o=271733878,c=0;c<e.length;c+=16){var _=n,d=s,p=i,f=o;s=h(s=h(s=h(s=h(s=u(s=u(s=u(s=u(s=a(s=a(s=a(s=a(s=r(s=r(s=r(s=r(s,i=r(i,o=r(o,n=r(n,s,i,o,e[c+0],7,-680876936),s,i,e[c+1],12,-389564586),n,s,e[c+2],17,606105819),o,n,e[c+3],22,-1044525330),i=r(i,o=r(o,n=r(n,s,i,o,e[c+4],7,-176418897),s,i,e[c+5],12,1200080426),n,s,e[c+6],17,-1473231341),o,n,e[c+7],22,-45705983),i=r(i,o=r(o,n=r(n,s,i,o,e[c+8],7,1770035416),s,i,e[c+9],12,-1958414417),n,s,e[c+10],17,-42063),o,n,e[c+11],22,-1990404162),i=r(i,o=r(o,n=r(n,s,i,o,e[c+12],7,1804603682),s,i,e[c+13],12,-40341101),n,s,e[c+14],17,-1502002290),o,n,e[c+15],22,1236535329),i=a(i,o=a(o,n=a(n,s,i,o,e[c+1],5,-165796510),s,i,e[c+6],9,-1069501632),n,s,e[c+11],14,643717713),o,n,e[c+0],20,-373897302),i=a(i,o=a(o,n=a(n,s,i,o,e[c+5],5,-701558691),s,i,e[c+10],9,38016083),n,s,e[c+15],14,-660478335),o,n,e[c+4],20,-405537848),i=a(i,o=a(o,n=a(n,s,i,o,e[c+9],5,568446438),s,i,e[c+14],9,-1019803690),n,s,e[c+3],14,-187363961),o,n,e[c+8],20,1163531501),i=a(i,o=a(o,n=a(n,s,i,o,e[c+13],5,-1444681467),s,i,e[c+2],9,-51403784),n,s,e[c+7],14,1735328473),o,n,e[c+12],20,-1926607734),i=u(i,o=u(o,n=u(n,s,i,o,e[c+5],4,-378558),s,i,e[c+8],11,-2022574463),n,s,e[c+11],16,1839030562),o,n,e[c+14],23,-35309556),i=u(i,o=u(o,n=u(n,s,i,o,e[c+1],4,-1530992060),s,i,e[c+4],11,1272893353),n,s,e[c+7],16,-155497632),o,n,e[c+10],23,-1094730640),i=u(i,o=u(o,n=u(n,s,i,o,e[c+13],4,681279174),s,i,e[c+0],11,-358537222),n,s,e[c+3],16,-722521979),o,n,e[c+6],23,76029189),i=u(i,o=u(o,n=u(n,s,i,o,e[c+9],4,-640364487),s,i,e[c+12],11,-421815835),n,s,e[c+15],16,530742520),o,n,e[c+2],23,-995338651),i=h(i,o=h(o,n=h(n,s,i,o,e[c+0],6,-198630844),s,i,e[c+7],10,1126891415),n,s,e[c+14],15,-1416354905),o,n,e[c+5],21,-57434055),i=h(i,o=h(o,n=h(n,s,i,o,e[c+12],6,1700485571),s,i,e[c+3],10,-1894986606),n,s,e[c+10],15,-1051523),o,n,e[c+1],21,-2054922799),i=h(i,o=h(o,n=h(n,s,i,o,e[c+8],6,1873313359),s,i,e[c+15],10,-30611744),n,s,e[c+6],15,-1560198380),o,n,e[c+13],21,1309151649),i=h(i,o=h(o,n=h(n,s,i,o,e[c+4],6,-145523070),s,i,e[c+11],10,-1120210379),n,s,e[c+2],15,718787259),o,n,e[c+9],21,-343485551),n=l(n,_),s=l(s,d),i=l(i,p),o=l(o,f)}return Array(n,s,i,o)}function _(e,t,n,s,i,o){return l(d(l(l(t,e),l(s,o)),i),n)}function r(e,t,n,s,i,o,c){return _(t&n|~t&s,e,t,i,o,c)}function a(e,t,n,s,i,o,c){return _(t&s|n&~s,e,t,i,o,c)}function u(e,t,n,s,i,o,c){return _(t^n^s,e,t,i,o,c)}function h(e,t,n,s,i,o,c){return _(n^(t|~s),e,t,i,o,c)}function l(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function d(e,t){return e<<t|e>>>32-t}function p(e){for(var t=Array(),n=(1<<i)-1,s=0;s<e.length*i;s+=i)t[s>>5]|=(e.charCodeAt(s/i)&n)<<s%32;return t}function f(e){for(var t=s?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return n}t.exports=o,cc._RF.pop()},{}],mine_ctrl:[function(e,t,n){"use strict";cc._RF.push(t,"50b334bHxdJzL1v8JGB24NC","mine_ctrl");var s=e("ugame");cc.Class({extends:cc.Component,properties:{unick:{default:null,type:cc.Label},back:{default:null,type:cc.Node},edit_prefab:{type:cc.Prefab,default:null},guest_upgrade_prefab:{type:cc.Prefab,default:null},guest_bind_button:{type:cc.Button,default:null},main_list:{type:cc.Node,default:null},title_label:{type:cc.Label,default:null}},onLoad:function(){this.unick.string=s.unick,this.back.active=!1,s.is_guest?this.guest_bind_button.node.active=!0:this.guest_bind_button.node.active=!1},start:function(){},goto_back:function(){null!=this.second_ui&&(this.second_ui.removeFromParent(),this.second_ui=null),this.back.active=!1,this.show_main_list()},hide_main_list:function(e){this.back.active=!0,this.main_list.active=!1,this.title_label.string=e},show_main_list:function(){this.back.active=!1,this.main_list.active=!0,this.title_label.string="\u6211"},on_edit_profile_click:function(){this.hide_main_list("\u4e2a\u4eba\u4fe1\u606f"),this.second_ui=cc.instantiate(this.edit_prefab),this.node.addChild(this.second_ui)},sync_info:function(){this.unick.string=s.unick},on_guest_upgrade_click:function(){this.hide_main_list("\u8d26\u53f7\u5347\u7ea7"),this.second_ui=cc.instantiate(this.guest_upgrade_prefab),this.node.addChild(this.second_ui)}}),cc._RF.pop()},{ugame:"ugame"}],net_connect:[function(e,t,n){"use strict";cc._RF.push(t,"9dc706S7mZHlIiNP0YihXrb","net_connect");var s=e("websocket"),i=e("http"),o=e("proto_man");cc.Class({extends:cc.Component,properties:{is_json:!0,is_release:!0},onLoad:function(){this.server_info=null,this.is_release?this.host="http://116.62.45.43:7000":this.host="http://127.0.0.1:7000"},get_server_info:function(){i.get(this.host,"/server_info",null,function(e,t){e&&(console.log(e),this.scheduleOnce(this.get_server_info.bind(this),3));var n=JSON.parse(t);this.server_info=n,cc.log(this.server_info),cc.log(this.server_info.ws_port),this.connect_to_server()}.bind(this))},connect_to_server:function(){this.is_json?(cc.log("ws://"+this.server_info.host+":"+this.server_info.ws_port+"/ws"),s.connect("ws://"+this.server_info.host+":"+this.server_info.ws_port+"/ws",o.PROTO_JSON)):s.connect("ws://"+this.server_info.host+":"+this.server_info.ws_port+"/ws",o.PROTO_BUF)},start:function(){this.get_server_info()}}),cc._RF.pop()},{http:"http",proto_man:"proto_man",websocket:"websocket"}],proto_man:[function(e,t,n){"use strict";cc._RF.push(t,"f55c2zFzBZH7oyvoc0Mo9lP","proto_man");var s=e("proto_tools"),i={info:console.log,warn:console.log,error:console.log},o={PROTO_JSON:1,PROTO_BUF:2,encode_cmd:function(e,t,n,i){var _,a=null;if(e==o.PROTO_JSON)_=r(t,n,i);else{var h=u(t,n);if(!l[h])return null;_=l[h](t,n,i)}s.write_prototype_inbuf(_,e),(a=_.buffer)&&(a=c(a));return a},decode_cmd:function(e,t){t=_(t);var n=new DataView(t);if(n.byteLength<s.header_size)return null;if(e==o.PROTO_JSON)return a(n);var i=s.read_int16(n,0),c=s.read_int16(n,2),r=u(i,c);if(!h[r])return null;return h[r](n)},reg_decoder:function(e,t,n){var s=u(e,t);h[s]&&i.warn("stype: "+e+" ctype: "+t+"is reged!!!");h[s]=n},reg_encoder:function(e,t,n){var s=u(e,t);l[s]&&i.warn("stype: "+e+" ctype: "+t+"is reged!!!");l[s]=n}};function c(e){return e}function _(e){return e}function r(e,t,n){var i={};i[0]=n;var o=JSON.stringify(i);return s.encode_str_cmd(e,t,o)}function a(e){var t=s.decode_str_cmd(e),n=t[2];try{var i=JSON.parse(n);t[2]=i[0]}catch(e){return null}return t&&void 0!==t[0]&&void 0!==t[1]&&void 0!==t[2]?t:null}function u(e,t){return 65536*e+t}var h={},l={};t.exports=o,cc._RF.pop()},{proto_tools:"proto_tools"}],proto_tools:[function(e,t,n){"use strict";var s;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return e.getInt16(t,!0)}function c(e,t,n){e.setInt16(t,n,!0)}function _(e,t){return e.getInt32(t,!0)}function r(e,t,n){e.setInt32(t,n,!0)}function a(e,t,n){e.setUint32(t,n,!0)}function u(e,t,n){return e.read_utf8(t,n)}function h(e,t,n){e.write_utf8(t,n)}function l(e){var t=new ArrayBuffer(e);return new DataView(t)}function d(e,t,n){return c(e,0,t),c(e,2,n),a(e,4,0),m.header_size}function p(e,t,n,s){return c(e,t,s),h(e,t+=2,n),t+=s}function f(e,t){var n=o(e,t);return[u(e,t+=2,n),t+=n]}cc._RF.push(t,"f36ebN4n4VMFZAqKqZLiVEq","proto_tools");var m=(i(s={header_size:10,read_int8:function(e,t){return e.getInt8(t)},write_int8:function(e,t,n){e.setInt8(t,n)},read_int16:o,write_int16:c},"write_int16",c),i(s,"read_int32",_),i(s,"write_int32",r),i(s,"write_int32",r),i(s,"read_uint32",function(e,t){return e.getUint32(t,!0)}),i(s,"write_uint32",a),i(s,"read_float",function(e,t){return e.getFloat32(t,!0)}),i(s,"write_float",function(e,t,n){e.setFloat32(t,n,!0)}),i(s,"alloc_buffer",l),i(s,"write_cmd_header_inbuf",d),i(s,"write_prototype_inbuf",function(e,t){c(e,8,t)}),i(s,"write_str_inbuf",p),i(s,"read_str_inbuf",f),i(s,"encode_str_cmd",function(e,t,n){var s=n.utf8_byte_len(),i=l(m.header_size+2+s),o=d(i,e,t);return o=p(i,o,n,s),i}),i(s,"encode_status_cmd",function(e,t,n){var s=l(m.header_size+2);return d(s,e,t),c(s,m.header_size,n),s}),i(s,"encode_empty_cmd",function(e,t,n){var s=l(m.header_size);return d(s,e,t),s}),i(s,"encode_int32_cmd",function(e,t,n){var s=l(m.header_size+4);return d(s,e,t),r(s,m.header_size,n),s}),i(s,"decode_str_cmd",function(e){var t={};t[0]=o(e,0),t[1]=o(e,2);var n=f(e,m.header_size);return t[2]=n[0],t}),i(s,"decode_status_cmd",function(e){var t={};return t[0]=o(e,0),t[1]=o(e,2),t[2]=o(e,m.header_size),t}),i(s,"decode_empty_cmd",function(e){var t={};return t[0]=o(e,0),t[1]=o(e,2),t[2]=null,t}),i(s,"decode_int32_cmd",function(e){var t={};return t[0]=o(e,0),t[1]=o(e,2),t[2]=_(e,m.header_size),t}),s);t.exports=m,cc._RF.pop()},{}],rank_item:[function(e,t,n){"use strict";cc._RF.push(t,"4ff35mrnRNA0bRHF1cy+w3m","rank_item");e("ugame");cc.Class({extends:cc.Component,properties:{rank_lable:{type:cc.Label,default:null},unick_label:{type:cc.Label,default:null},uchip_label:{type:cc.Label,default:null}},start:function(){},show_rank_info:function(e,t,n,s,i){this.rank_lable.string=""+e,this.unick_label.string=""+t,this.uchip_label.string=""+i}}),cc._RF.pop()},{ugame:"ugame"}],system_ctrl:[function(e,t,n){"use strict";cc._RF.push(t,"aaf05HTSlVEs5UfZhO6AmLL","system_ctrl");e("game_system");var s=e("ugame");cc.Class({extends:cc.Component,properties:{unick:{default:null,type:cc.Label},back:{default:null,type:cc.Node},world_rank_prefab:{type:cc.Prefab,default:null},main_list:{type:cc.Node,default:null},title_label:{type:cc.Label,default:null}},onLoad:function(){this.second_ui=null},start:function(){this.back.active=!1,this.sync_info()},sync_info:function(){this.unick.string=s.unick},hide_main_list:function(e){this.back.active=!0,this.main_list.active=!1,this.title_label.string=e},show_main_list:function(){this.back.active=!1,this.main_list.active=!0,this.title_label.string="\u7cfb\u7edf"},goto_back:function(){null!=this.second_ui&&(this.second_ui.removeFromParent(),this.second_ui=null),this.show_main_list()},on_get_world_rank_click:function(){this.sync_info(),null!=this.second_ui&&this.second_ui.removeFromParent(),this.second_ui=cc.instantiate(this.world_rank_prefab),this.node.addChild(this.second_ui),this.hide_main_list("\u6392\u884c\u699c")},on_get_world_rank_data:function(e,t){if(null!=this.second_ui){var n=this.second_ui.getComponent("world_rank");n&&n.show_world_rank(e,t)}}}),cc._RF.pop()},{game_system:"game_system",ugame:"ugame"}],tab_button:[function(e,t,n){"use strict";cc._RF.push(t,"41786+NXSZOUJJVceqJxmgP","tab_button"),cc.Class({extends:cc.Component,properties:{icon_normal:{default:null,type:cc.SpriteFrame},icon_seleced:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.label=this.node.getChildByName("name"),this.is_active=!1},set_actived:function(e){this.is_active=e,this.is_active?(this.icon.spriteFrame=this.icon_seleced,this.label.color=new cc.Color(64,155,226,255)):(this.icon.spriteFrame=this.icon_normal,this.label.color=new cc.Color(118,118,118,255))}}),cc._RF.pop()},{}],talk_room_proto:[function(e,t,n){"use strict";cc._RF.push(t,"2f0ebNsZRNO0r2YVNzvBUXM","talk_room_proto");var s=e("proto_man"),i=e("proto_tools"),o={OK:1,IS_IN_TALKROOM:-100,NOT_IN_TALKROOM:-101,INVALD_OPT:-102,INVALID_PARAMS:-103};s.reg_decoder(1,3,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n=i.header_size,s={};t[2]=s;var o=i.read_str_inbuf(e,n);return s.uname=o[0],n=o[1],s.usex=i.read_int16(e,n),n+=2,t}),s.reg_decoder(1,4,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n=i.header_size,s={};t[2]=s;var o=i.read_str_inbuf(e,n);return s.uname=o[0],n=o[1],s.usex=i.read_int16(e,n),n+=2,t}),s.reg_encoder(1,1,function(e,t,n){var s=n.uname.utf8_byte_len(),o=i.header_size+2+s+2,c=i.alloc_buffer(o),_=i.write_cmd_header_inbuf(c,e,t);return _=i.write_str_inbuf(c,_,n.uname,s),i.write_int16(c,_,n.usex),c}),s.reg_decoder(1,1,i.decode_status_cmd),s.reg_encoder(1,2,i.encode_empty_cmd),s.reg_decoder(1,2,i.decode_status_cmd),s.reg_encoder(1,5,i.encode_str_cmd),s.reg_decoder(1,5,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n=i.header_size,s={},c=i.read_int16(e,n);if(n+=2,s[0]=c,t[2]=s,c!=o.OK)return t;var _=i.read_str_inbuf(e,n);return s[1]=_[0],n=_[1],s[2]=i.read_int16(e,n),n+=2,_=i.read_str_inbuf(e,n),s[3]=_[0],t}),s.reg_decoder(1,6,function(e){var t={};t[0]=i.read_int16(e,0),t[1]=i.read_int16(e,2);var n=i.header_size,s={};t[2]=s;var o=i.read_str_inbuf(e,n);return s[0]=o[0],n=o[1],s[1]=i.read_int16(e,n),n+=2,o=i.read_str_inbuf(e,n),s[2]=o[0],t}),t.exports={stype:1,cmd:{Enter:1,Exit:2,UserArrived:3,UserExit:4,SendMsg:5,UserMsg:6},respones:o},cc._RF.pop()},{proto_man:"proto_man",proto_tools:"proto_tools"}],talkroom:[function(e,t,n){"use strict";cc._RF.push(t,"a66d9GYXsVFG7sbCM18Qn6G","talkroom");var s=e("websocket"),i=e("utils"),o=1,c=2,_=3,r=4,a=5,u=6,h=1;cc.Class({extends:cc.Component,properties:{input:{default:null,type:cc.EditBox},scroll_content:{default:null,type:cc.ScrollView},desic_prefab:{default:null,type:cc.Prefab},selftalk_prefab:{default:null,type:cc.Prefab},othertalk_prefab:{default:null,type:cc.Prefab}},onLoad:function(){s.register_serivces_handler({1:this.on_talk_room_service_return.bind(this)}),this.random_uname="\u6e38\u5ba2"+i.random_int_str(4),this.random_sex=i.random_int(1,2)},show_tip_msg:function(e){var t=cc.instantiate(this.desic_prefab);t.getChildByName("desic").getComponent(cc.Label).string=e,this.scroll_content.content.addChild(t),this.scroll_content.scrollToBottom(.1)},show_self_talk:function(e,t){var n=cc.instantiate(this.selftalk_prefab),s=n.getChildByName("uname").getComponent(cc.Label);s.string=e,(s=n.getChildByName("msg").getComponent(cc.Label)).string=t,this.scroll_content.content.addChild(n),this.scroll_content.scrollToBottom(.1)},show_other_talk:function(e,t){var n=cc.instantiate(this.othertalk_prefab),s=n.getChildByName("uname").getComponent(cc.Label);s.string=e,(s=n.getChildByName("msg").getComponent(cc.Label)).string=t,this.scroll_content.content.addChild(n),this.scroll_content.scrollToBottom(.1)},on_talk_room_service_return:function(e,t,n){switch(t){case o:n==h&&this.show_tip_msg("\u4f60\u5df2\u7ecf\u6210\u529f\u8fdb\u5165\u804a\u5929\u5ba4");break;case c:n==h&&this.show_tip_msg("\u4f60\u5df2\u7ecf\u79bb\u5f00\u804a\u5929\u5ba4");break;case _:this.show_tip_msg(n.uname+"\u8fdb\u5165\u804a\u5929\u5ba4");break;case r:this.show_tip_msg(n.uname+"\u79bb\u5f00\u804a\u5929\u5ba4");break;case a:n[0]==h&&this.show_self_talk(n[1],n[3]);break;case u:this.show_other_talk(n[0],n[2])}},start:function(){},connect_to_talkroom:function(){console.log("connect_to_talkroom"),s.send_cmd(1,o,{uname:this.random_uname,usex:this.random_sex})},disconnect_from_talkroom:function(){console.log("disconnect_from_talkroom"),s.send_cmd(1,c,null)},send_msg_to_talkroom:function(){var e=this.input.string;!e||e.length<=0||(console.log(e),s.send_cmd(1,a,e),this.input.string="")}}),cc._RF.pop()},{utils:"utils",websocket:"websocket"}],ugame:[function(e,t,n){"use strict";cc._RF.push(t,"bbaa5Sm2c1DY5TjYDZPtcG8","ugame");var s=e("utils"),i={unick:"",usex:-1,uface:0,uvip:0,is_guest:!1,guest_key:null,uname:null,upwd:null,game_info:null,zid:0,guest_login_success:function(e,t,n,s,i){this.unick=e,this.usex=t,this.uface=n,this.uvip=s,this.is_guest=!0,this.guest_key!=i&&(this.guest_key=i,cc.sys.localStorage.setItem("guest_key",i))},_save_uname_and_pwd:function(){var e={uname:this.uname,upwd:this.upwd},t=JSON.stringify(e);cc.sys.localStorage.setItem("ugame_upwd",t)},uname_login_success:function(e,t,n,s){this.unick=e,this.usex=t,this.uface=n,this.uvip=s,this.is_guest=!1,this._save_uname_and_pwd()},edit_profile_success:function(e,t){this.unick=e,this.usex=t},save_temp_uname_and_upwd:function(e,t){this.uname=e,this.upwd=t},save_uname_and_pwd:function(){i.is_guest=!1,this._save_uname_and_pwd()},save_user_ugame_data:function(e){i.game_info={uchip:e[1],uexp:e[2],uvip:e[3]}},enter_zone:function(e){this.zid=e},guest_bind_phone_success:function(){cc.log("guest_bind_phone_success")}},o=cc.sys.localStorage.getItem("ugame_upwd");if(o){var c=JSON.parse(o);i.is_guest=!1,i.uname=c.uname,i.upwd=c.upwd}else i.is_guest=!0,i.guest_key=cc.sys.localStorage.getItem("guest_key"),i.guest_key||(i.guest_key=s.random_string(32));t.exports=i,cc._RF.pop()},{utils:"utils"}],ulevel:[function(e,t,n){"use strict";cc._RF.push(t,"dff20lHk49JnrfzMz0ytvax","ulevel");var s=[0,1500,2e3,2e3,2e3,3e3,3e3,4e3,5e3,5e3,6e3,7e3,8e3,9e3,1e4];t.exports={get_level:function(e){for(var t=[0,0],n=0,i=e,o=1;o<s.length;o++){if(i<s[o])return t[0]=n,t[1]=i/s[o],t;i-=s[o],n=o}return t[0]=n,t[1]=1,t}},cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(e,t,n){"use strict";cc._RF.push(t,"79cdeQ5YNZIeqN86Rj4YWVK","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}],utils:[function(e,t,n){"use strict";cc._RF.push(t,"0dca1e2X45OgpEGMM1URiES","utils");var s={random_string:function(e){for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,s="",i=0;i<e;i++)s+=t.charAt(Math.floor(Math.random()*n));return s},random_int_str:function(e){for(var t="0123456789".length,n="",s=0;s<e;s++)n+="0123456789".charAt(Math.floor(Math.random()*t));return n},random_int:function(e,t){var n=e+Math.random()*(t-e+1);return(n=Math.floor(n))>t&&(n=t),n}};t.exports=s,cc._RF.pop()},{}],websocket:[function(e,t,n){"use strict";cc._RF.push(t,"696382X9vhGr66RtiwqPMr8","websocket");var s=e("proto_man"),i={sock:null,serivces_handler:null,proto_type:0,is_connected:!1,_on_opened:function(e){console.log("ws connect server success"),this.is_connected=!0},_on_recv_data:function(e){var t=e.data;if(this.serivces_handler){var n=s.decode_cmd(this.proto_type,t);if(n){var i=n[0];this.serivces_handler[i]&&this.serivces_handler[i](n[0],n[1],n[2])}}},_on_socket_close:function(e){this.sock&&this.close()},_on_socket_err:function(e){this.close()},connect:function(e,t){this.sock=new WebSocket(e),this.sock.binaryType="arraybuffer",this.sock.onopen=this._on_opened.bind(this),this.sock.onmessage=this._on_recv_data.bind(this),this.sock.onclose=this._on_socket_close.bind(this),this.sock.onerror=this._on_socket_err.bind(this),this.proto_type=t},send_cmd:function(e,t,n){if(this.sock&&this.is_connected){var i=s.encode_cmd(this.proto_type,e,t,n);this.sock.send(i)}},close:function(){this.is_connected=!1,null!==this.sock&&(this.sock.close(),this.sock=null)},register_serivces_handler:function(e){this.serivces_handler=e}};t.exports=i,cc._RF.pop()},{proto_man:"proto_man"}],world_rank:[function(e,t,n){"use strict";cc._RF.push(t,"2847dc8VHJErJhG5m0UuN8z","world_rank");var s=e("game_system");cc.Class({extends:cc.Component,properties:{not_inrank:{type:cc.Node,default:null},my_rank_label:{type:cc.Label,default:null},rank_item_prefab:{type:cc.Prefab,default:null},content:{type:cc.Node,default:null}},start:function(){s.get_world_rank_info()},show_world_rank:function(e,t){for(var n=0;n<t.length;n++){var s=t[n],i=cc.instantiate(this.rank_item_prefab);this.content.addChild(i),i.getComponent("rank_item").show_rank_info(n+1,s[0],s[1],s[2],s[3])}e<=0?(this.not_inrank.active=!0,this.my_rank_label.node.active=!1):(this.not_inrank.active=!1,this.my_rank_label.node.active=!0,this.my_rank_label.string=""+e)}}),cc._RF.pop()},{game_system:"game_system"}]},{},["use_v2.1.x_cc.Action","extend","md5","action_time","check_box","frame_anim","net_connect","Cmd","Respones","State","Stype","game_scene","checkout","chess_disk","game_prop","game_seat","game_show_info","home_scene","edit_profile","friend_ctrl","guest_upgrade","home_ctrl","login_bonues","mine_ctrl","rank_item","system_ctrl","tab_button","world_rank","loading","account_forget_pwd","account_reg","account_uname_login","auth","auth_proto","five_chess","five_chess_proto","game_system","game_system_proto","talk_room_proto","talkroom","ugame","ulevel","http","proto_man","proto_tools","websocket","utils"]);